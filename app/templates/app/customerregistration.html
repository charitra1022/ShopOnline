<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />

    <!--FontAwesome CSS-->
    <link rel="stylesheet" href="{% static 'app/css/all.min.css' %}" />
    
    <!-- Base CSS -->
    <link rel="stylesheet" href="{% static 'app/css/base.css' %}" />

    <!--Custom CSS-->
    <link rel="stylesheet" href="{% static 'app/css/form-page.css' %}" />

    <title>ShopOnline | Sign Up</title>
  </head>
  <body>
    <main>
      <!-- Start Main Container -->
      <div class="main-container">
        <!-- Start Card Container -->
        <div class="card-container p-r-95 p-l-130">

          <!-- Start Form -->
          <form action="" method="post" class="form" novalidate>
            <span class="form-title">Create Account</span>

            <!-- Django message -->
            {% if messages %}
              {% for message in messages %}
                  <p {% if message.tags %} class="alert alert-{{message.tags}} mb-5" {% endif %}>{{message}}</p>
              {% endfor %}
            {% endif %}

            {% csrf_token %}

            <!-- Start For loop-->
            {% for f in form %}

              <!-- Input Field -->
              <div class="wrap-input validate-input">
                {{f}}
                
                <span class="focus-input"></span>
                <span class="symbol-input">
                  {% if 'username' in f.id_for_label %}
                    <i class="fa fa-user" aria-hidden="true"></i>
                  {% else %}
                    {% if 'password' in f.id_for_label %}
                      <i class="fa fa-lock" aria-hidden="true"></i>
                    {% else %}
                      {% if 'email' in f.id_for_label %}
                        <i class="fa fa-envelope " aria-hidden="true"></i>
                      {% endif %}
                    {% endif %}
                  {% endif %}
                </span>
              </div>
              
              <!-- Input Field Errors -->
              <div class="form-error">
                <small class="form-error text-danger">{{f.errors|striptags}}</small>
              </div>

            {% endfor %}
            <!-- End For loop-->

            <!-- Show Password checkbox -->
            <div class="container-form-showpassword">
              <div onclick="togglePW()">
                <input type="checkbox" onclick="togglePW()" />
                <span>Show Password</span>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="container-form-btn">
              <input type="submit" class="form-btn" value="Register" />
            </div>

            <!-- Login Link div -->
            <div class="text-center p-t-50">
              <span class="txt2">Already have an Account?</span><br/>
              <a class="txt2" href="{% url 'login' %}">
                Login here
                <i class="fa fa-arrow-right m-l-5" aria-hidden="true"></i>
              </a>
            </div>

            <!-- Form Errors -->
            {% if form.non_field_errors %}
              {% for error in form.non_field_errors %}
                <p class="alert alert-danger my-3">{{error}}</p>          
              {% endfor %}
            {% endif %}
            
          </form>
          <!-- End Form -->

          <!-- Illustration -->
          <div class="illustration-img js-tilt" data-tilt>
            <img src="{% static 'app/images/illustrations/register_illustration.png' %}" alt="register illustration" />
          </div>

        </div>
        <!-- End Card Container -->
      </div>
      <!-- End Main Container -->
    </main>

    <!-- Start Footer 
    <footer class="container-fluid bg-dark text-center p-2 mt-5">
      <small class="text-white"
        >Copyright &copy;
        <script>
          document.write(new Date().getFullYear());
        </script>
        &nbsp;&nbsp; Designed By Charitra Agarwal
      </small>
      <img
        src="{% static 'app/images/payment.png' %}"
        alt=""
        srcset=""
        class="img-fluid"
        height="2px"
      />
    </footer>
    <!-- End Footer -->

    <!-- Jquery -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>

    <!-- Tilt Js -->
    <script src="https://unpkg.com/tilt.js@1.1.13/dest/tilt.jquery.min.js"></script>

    <!-- Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script>

    <!-- FontAwesome Script -->
    <script src="{% static 'app/js/all.min.js' %}"></script>

    <script>
      $(".js-tilt").tilt({
        scale: 1.1,
      });

      // to add show password functionality for confirm password

      function togglePW() {
        var inputBox1 = document.querySelector("input[name=password1]");
        var inputBox2 = document.querySelector("input[name=password2]");
        var checkBox = document.querySelector(
          ".container-form-showpassword input[type=checkbox]"
        );

        if (!checkBox.checked) {
          inputBox1.setAttribute("type", "text");
          inputBox2.setAttribute("type", "text");
          checkBox.checked = true;
        } else {
          inputBox1.setAttribute("type", "password");
          inputBox2.setAttribute("type", "password");
          checkBox.checked = false;
        }
      }
    </script>
  </body>
</html>
