{% extends 'app/base.html' %}
{% load static %}
{% block custom_css %}
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'app/css/cart.css' %}" />
{% endblock custom_css %}
{% block title %}Checkout{% endblock title %}

{% block main-content %}
  <div class="container">
    <div class="row mt-5">
      <div class="col-sm-6">
        <h4>Order Summary</h4>
        <hr>
          <div class="card mb-2">

            {% for cartitem in cartitems %}
              <div class="card-body">
                <h6 class="fw-light">
                  <a href="{% url 'product-detail' cartitem.cart.product.id %}">{{cartitem.cart.product.title}}</a>
                </h6>
                <p>Quantity: {{cartitem.quantity}}</p>
                <p class="fw-bold">Price: {{cartitem.amount}}</p>
              </div>
            {% endfor %}

            <hr>

            <div class="card-body">
              <h6 class="fw-bold">Total Amount: </h6>
              <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                  Amount<span>Rs. <span id="total-amount">{{amounts.totalamount}}</span></span> 
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0">
                  Shipping<span>Rs. <span id="shipping-amount">{{amounts.shippingamount}}</span></span> 
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                  <div>
                    <strong>Total</strong> <small>(including VAT)</small>
                  </div>
                  <span><strong>Rs. <span id="final-amount">{{amounts.finalamount}}</span></strong> 
                </li>
              </ul>
            </div>
          </div>



        <small>Term and Condition: <br> Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia, ullam saepe! Iure optio repellat dolor velit, minus rem. Facilis cumque neque numquam laboriosam, accusantium adipisci nisi nihil in et quis?</small>
      </div>
      
      
      <div class="col-sm-4 offset-sm-1">
        <h4>Select Shipping Address</h4>
        <hr>
        <form action="">
          {% for address in addresses %}
            <div class="card">
              <div class="card-body">
                <div class="form-check mt-2 mb-2 d-inline-block">
                  <input name="address" class="form-check-input" type="radio" value="">
                  <label class="form-check-label fw-bold" for=""></label>
                </div>
                <h4 class="fw-bold fs-10 d-inline-block mb-0">Address {{forloop.counter}}</h4>

                <span class="fs-13 d-block"><span class="fw-bold">Name:</span> {{address.name}}</span>
                <span class="fs-13 d-block"><span class="fw-bold">Phone:</span> {{address.phone}}</span>
                <span class="fs-13 d-block"><span class="fw-bold">Address:</span> {{address.locality_address}}</span>
                <span class="fs-13 d-block"><span class="fw-bold">City:</span> {{address.city}}</span>
                <span class="fs-13 d-block"><span class="fw-bold">State:</span> {{address.state}}</span>
                <span class="fs-13 d-block"><span class="fw-bold">Postal Code:</span> {{address.zipcode}}</span>
              </div>
            </div>

            

          {% empty %}
            <div>There are no Customer addresses added! Go to <strong>Profile</strong> and create a new address</div>
          {% endfor %}
            
            


            
            <div class="text-end">
              <button type="submit" class="btn btn-warning mt-3 px-5 fw-bold">Continue</button>
            </div>
          </form>
        </div>
    </div>
  </div>
{% endblock main-content %}

{% block custom_js %}
  <script src="{% static 'app/js/cart.js' %}"></script>
{% endblock custom_js %}
